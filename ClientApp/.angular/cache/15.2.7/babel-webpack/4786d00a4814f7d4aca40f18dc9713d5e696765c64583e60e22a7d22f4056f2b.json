{"ast":null,"code":"import { __decorate, __param } from \"tslib\";\nimport { Component, Inject } from '@angular/core';\nlet AddUrlComponent = class AddUrlComponent {\n  constructor(http, authorizeService, baseUrl) {\n    this.http = http;\n    this.authorizeService = authorizeService;\n    this.baseUrl = baseUrl;\n    this.newUrl = {\n      longForm: '',\n      createdBy: ''\n    };\n    this.errorMessage = '';\n  }\n  addUrl() {\n    this.errorMessage = '';\n    this.authorizeService.getUser().subscribe(user => {\n      if (user) {\n        this.newUrl.createdBy = user.name || '';\n      } else {\n        console.error('User information not available.');\n      }\n      this.http.post(this.baseUrl + 'api/Url', this.newUrl).subscribe(response => {\n        console.log('URL added successfully:', response);\n        this.newUrl = {\n          longForm: '',\n          createdBy: this.newUrl.createdBy\n        };\n      }, error => {\n        console.error('Error adding URL:', error);\n        this.errorMessage = 'Error adding URL: ' + error.message;\n      });\n    });\n  }\n};\nAddUrlComponent = __decorate([Component({\n  selector: 'app-add-url',\n  templateUrl: './add-url.component.html'\n}), __param(2, Inject('BASE_URL'))], AddUrlComponent);\nexport { AddUrlComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,EAAEC,MAAM,QAAQ,eAAe;AAQ1C,IAAMC,eAAe,GAArB,MAAMA,eAAe;EAI1BC,YACUC,IAAgB,EAChBC,gBAAkC,EACdC,OAAe;IAFnC,SAAI,GAAJF,IAAI;IACJ,qBAAgB,GAAhBC,gBAAgB;IACI,YAAO,GAAPC,OAAO;IANrC,WAAM,GAAe;MAAEC,QAAQ,EAAE,EAAE;MAAEC,SAAS,EAAE;IAAE,CAAE;IACpD,iBAAY,GAAW,EAAE;EAMtB;EAEHC,MAAM;IACJ,IAAI,CAACC,YAAY,GAAG,EAAE;IAEtB,IAAI,CAACL,gBAAgB,CAACM,OAAO,EAAE,CAACC,SAAS,CAAEC,IAAkB,IAAI;MAC/D,IAAIA,IAAI,EAAE;QAER,IAAI,CAACC,MAAM,CAACN,SAAS,GAAGK,IAAI,CAACE,IAAI,IAAI,EAAE;OACxC,MAAM;QACLC,OAAO,CAACC,KAAK,CAAC,iCAAiC,CAAC;;MAGlD,IAAI,CAACb,IAAI,CAACc,IAAI,CAAM,IAAI,CAACZ,OAAO,GAAG,SAAS,EAAE,IAAI,CAACQ,MAAM,CAAC,CAACF,SAAS,CAClEO,QAAQ,IAAG;QACTH,OAAO,CAACI,GAAG,CAAC,yBAAyB,EAAED,QAAQ,CAAC;QAChD,IAAI,CAACL,MAAM,GAAG;UAAEP,QAAQ,EAAE,EAAE;UAAEC,SAAS,EAAE,IAAI,CAACM,MAAM,CAACN;QAAS,CAAE;MAClE,CAAC,EACDS,KAAK,IAAG;QACND,OAAO,CAACC,KAAK,CAAC,mBAAmB,EAAEA,KAAK,CAAC;QACzC,IAAI,CAACP,YAAY,GAAG,oBAAoB,GAAGO,KAAK,CAACI,OAAO;MAC1D,CAAC,CACF;IACH,CAAC,CAAC;EACJ;CACD;AAjCYnB,eAAe,eAJ3BF,SAAS,CAAC;EACTsB,QAAQ,EAAE,aAAa;EACvBC,WAAW,EAAE;CACd,CAAC,EAQGC,iBAAM,CAAC,UAAU,CAAC,IAPVtB,eAAe,CAiC3B;SAjCYA,eAAe","names":["Component","Inject","AddUrlComponent","constructor","http","authorizeService","baseUrl","longForm","createdBy","addUrl","errorMessage","getUser","subscribe","user","newUrl","name","console","error","post","response","log","message","selector","templateUrl","__param"],"sourceRoot":"","sources":["D:\\Task for Inforce\\UrlShortener\\ClientApp\\src\\app\\add-url\\add-url.component.ts"],"sourcesContent":["import { Component, Inject } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { AuthorizeService, IUser } from 'src\\api-authorization\\authorize.service.ts';\r\n\r\n@Component({\r\n  selector: 'app-add-url',\r\n  templateUrl: './add-url.component.html'\r\n})\r\nexport class AddUrlComponent {\r\n  newUrl: UrlLinkDTO = { longForm: '', createdBy: '' };\r\n  errorMessage: string = '';\r\n\r\n  constructor(\r\n    private http: HttpClient,\r\n    private authorizeService: AuthorizeService,\r\n    @Inject('BASE_URL') private baseUrl: string\r\n  ) {}\r\n\r\n  addUrl() {\r\n    this.errorMessage = '';\r\n\r\n    this.authorizeService.getUser().subscribe((user: IUser | null) => {\r\n      if (user) {\r\n\r\n        this.newUrl.createdBy = user.name || ''; \r\n      } else {\r\n        console.error('User information not available.');\r\n      }\r\n\r\n      this.http.post<any>(this.baseUrl + 'api/Url', this.newUrl).subscribe(\r\n        response => {\r\n          console.log('URL added successfully:', response);\r\n          this.newUrl = { longForm: '', createdBy: this.newUrl.createdBy };\r\n        },\r\n        error => {\r\n          console.error('Error adding URL:', error);\r\n          this.errorMessage = 'Error adding URL: ' + error.message;\r\n        }\r\n      );\r\n    });\r\n  }\r\n}\r\n\r\ninterface UrlLinkDTO {\r\n  longForm: string;\r\n  createdBy: string;\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}