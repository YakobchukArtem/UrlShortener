{"ast":null,"code":"import { __decorate, __param } from \"tslib\";\nlet AddUrlComponent = class AddUrlComponent {\n  constructor(http, authorizeService, baseUrl) {\n    this.http = http;\n    this.authorizeService = authorizeService;\n    this.baseUrl = baseUrl;\n    this.newUrl = {\n      longForm: '',\n      createdBy: ''\n    };\n    this.errorMessage = '';\n    this.isRequestPending = false; // Додайте змінну для відстеження статусу запиту\n  }\n\n  addUrl() {\n    if (this.isRequestPending) return; // Перевірка, чи вже є відправлений запит\n    this.errorMessage = '';\n    this.isRequestPending = true; // Встановлення прапорця, що запит відправлений\n    this.authorizeService.getUser().subscribe(user => {\n      if (user) {\n        this.newUrl.createdBy = user.name || '';\n      } else {\n        console.error('User information not available.');\n      }\n      this.http.post(this.baseUrl + 'api/url', this.newUrl).subscribe(response => {\n        console.log('URL added successfully:', response);\n        this.newUrl = {\n          longForm: '',\n          createdBy: this.newUrl.createdBy\n        };\n        this.isRequestPending = false; // Скидання прапорця після успішного запиту\n      }, error => {\n        console.error('Error adding URL:', error);\n        this.errorMessage = 'Error adding URL: ' + error.message;\n        this.isRequestPending = false; // Скидання прапорця у разі помилки\n      });\n    });\n  }\n};\n\nAddUrlComponent = __decorate([__param(2, Inject('BASE_URL'))], AddUrlComponent);\nexport { AddUrlComponent };","map":{"version":3,"mappings":";AAAO,IAAMA,eAAe,GAArB,MAAMA,eAAe;EAK1BC,YACUC,IAAgB,EAChBC,gBAAkC,EACdC,OAAe;IAFnC,SAAI,GAAJF,IAAI;IACJ,qBAAgB,GAAhBC,gBAAgB;IACI,YAAO,GAAPC,OAAO;IAPrC,WAAM,GAAe;MAAEC,QAAQ,EAAE,EAAE;MAAEC,SAAS,EAAE;IAAE,CAAE;IACpD,iBAAY,GAAW,EAAE;IACzB,qBAAgB,GAAY,KAAK,CAAC,CAAC;EAMhC;;EAEHC,MAAM;IACJ,IAAI,IAAI,CAACC,gBAAgB,EAAE,OAAO,CAAC;IAEnC,IAAI,CAACC,YAAY,GAAG,EAAE;IACtB,IAAI,CAACD,gBAAgB,GAAG,IAAI,CAAC,CAAC;IAE9B,IAAI,CAACL,gBAAgB,CAACO,OAAO,EAAE,CAACC,SAAS,CAAEC,IAAkB,IAAI;MAC/D,IAAIA,IAAI,EAAE;QACR,IAAI,CAACC,MAAM,CAACP,SAAS,GAAGM,IAAI,CAACE,IAAI,IAAI,EAAE;OACxC,MAAM;QACLC,OAAO,CAACC,KAAK,CAAC,iCAAiC,CAAC;;MAGlD,IAAI,CAACd,IAAI,CAACe,IAAI,CAAM,IAAI,CAACb,OAAO,GAAG,SAAS,EAAE,IAAI,CAACS,MAAM,CAAC,CAACF,SAAS,CAClEO,QAAQ,IAAG;QACTH,OAAO,CAACI,GAAG,CAAC,yBAAyB,EAAED,QAAQ,CAAC;QAChD,IAAI,CAACL,MAAM,GAAG;UAAER,QAAQ,EAAE,EAAE;UAAEC,SAAS,EAAE,IAAI,CAACO,MAAM,CAACP;QAAS,CAAE;QAChE,IAAI,CAACE,gBAAgB,GAAG,KAAK,CAAC,CAAC;MACjC,CAAC,EACDQ,KAAK,IAAG;QACND,OAAO,CAACC,KAAK,CAAC,mBAAmB,EAAEA,KAAK,CAAC;QACzC,IAAI,CAACP,YAAY,GAAG,oBAAoB,GAAGO,KAAK,CAACI,OAAO;QACxD,IAAI,CAACZ,gBAAgB,GAAG,KAAK,CAAC,CAAC;MACjC,CAAC,CACF;IACH,CAAC,CAAC;EACJ;CACD;;AAtCYR,eAAe,eAQvBqB,iBAAM,CAAC,UAAU,CAAC,IARVrB,eAAe,CAsC3B;SAtCYA,eAAe","names":["AddUrlComponent","constructor","http","authorizeService","baseUrl","longForm","createdBy","addUrl","isRequestPending","errorMessage","getUser","subscribe","user","newUrl","name","console","error","post","response","log","message","__param"],"sourceRoot":"","sources":["D:\\Task for Inforce\\UrlShortener\\ClientApp\\src\\app\\add-url\\add-url.component.ts"],"sourcesContent":["export class AddUrlComponent {\r\n  newUrl: UrlLinkDTO = { longForm: '', createdBy: '' };\r\n  errorMessage: string = '';\r\n  isRequestPending: boolean = false; // Додайте змінну для відстеження статусу запиту\r\n\r\n  constructor(\r\n    private http: HttpClient,\r\n    private authorizeService: AuthorizeService,\r\n    @Inject('BASE_URL') private baseUrl: string\r\n  ) {}\r\n\r\n  addUrl() {\r\n    if (this.isRequestPending) return; // Перевірка, чи вже є відправлений запит\r\n\r\n    this.errorMessage = '';\r\n    this.isRequestPending = true; // Встановлення прапорця, що запит відправлений\r\n\r\n    this.authorizeService.getUser().subscribe((user: IUser | null) => {\r\n      if (user) {\r\n        this.newUrl.createdBy = user.name || ''; \r\n      } else {\r\n        console.error('User information not available.');\r\n      }\r\n\r\n      this.http.post<any>(this.baseUrl + 'api/url', this.newUrl).subscribe(\r\n        response => {\r\n          console.log('URL added successfully:', response);\r\n          this.newUrl = { longForm: '', createdBy: this.newUrl.createdBy };\r\n          this.isRequestPending = false; // Скидання прапорця після успішного запиту\r\n        },\r\n        error => {\r\n          console.error('Error adding URL:', error);\r\n          this.errorMessage = 'Error adding URL: ' + error.message;\r\n          this.isRequestPending = false; // Скидання прапорця у разі помилки\r\n        }\r\n      );\r\n    });\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}